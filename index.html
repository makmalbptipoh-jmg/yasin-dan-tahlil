<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Yasin dan Tahlil - Utama</title>

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#064c39",
            "background-light": "#f6f8f7",
            "background-dark": "#10221d",
          },
          fontFamily: {
            display: ["Inter", "sans-serif"]
          },
          borderRadius: {
            DEFAULT: "0.5rem",
            lg: "1rem",
            xl: "1.5rem",
            full: "9999px"
          },
        },
      },
    }
  </script>

  <style>
    .material-symbols-outlined{
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
    .active-icon{
      font-variation-settings: 'FILL' 1, 'wght' 500, 'GRAD' 0, 'opsz' 24;
    }
    body{
      min-height: max(884px, 100dvh);
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen flex flex-col">

  <header class="px-6 pt-10 pb-6 bg-white dark:bg-background-dark/50">
    <div class="flex justify-between items-start">
      <div>
        <h1 class="text-3xl font-bold text-primary tracking-tight">Yasin dan Tahlil</h1>
        <p class="text-slate-500 dark:text-slate-400 mt-1">Baca dengan tenang</p>
      </div>
      <div class="bg-primary/10 p-2 rounded-full">
        <span class="material-symbols-outlined text-primary text-2xl">mosque</span>
      </div>
    </div>
  </header>

  <div class="px-6 mb-4">
    <div class="relative group">
      <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-primary transition-colors">search</span>
      <input id="searchBox"
             class="w-full bg-white dark:bg-slate-800 border-none rounded-xl py-4 pl-12 pr-4 shadow-sm focus:ring-2 focus:ring-primary/20 transition-all outline-none"
             placeholder="Cari Surah atau Doa..."
             type="text"/>
    </div>
  </div>

  <div id="quickResults" class="px-6 mb-6 hidden">
    <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden">
      <button data-go="yasin" class="w-full flex items-center justify-between px-4 py-4 hover:bg-slate-50 dark:hover:bg-slate-700/40 transition-colors">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center">
            <span class="material-symbols-outlined text-primary">auto_stories</span>
          </div>
          <div class="text-left">
            <div class="font-semibold">Yasin</div>
            <div class="text-xs text-slate-500 dark:text-slate-400">Surah 36</div>
          </div>
        </div>
        <span class="material-symbols-outlined text-slate-300">chevron_right</span>
      </button>

      <div class="h-px bg-slate-100 dark:bg-slate-700"></div>

      <button data-go="tahlil" class="w-full flex items-center justify-between px-4 py-4 hover:bg-slate-50 dark:hover:bg-slate-700/40 transition-colors">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center">
            <span class="material-symbols-outlined text-primary">format_list_numbered</span>
          </div>
          <div class="text-left">
            <div class="font-semibold">Tahlil</div>
            <div class="text-xs text-slate-500 dark:text-slate-400">Bacaan ringkas</div>
          </div>
        </div>
        <span class="material-symbols-outlined text-slate-300">chevron_right</span>
      </button>
    </div>
  </div>

  <div class="px-6 mb-8">
    <div class="relative overflow-hidden bg-primary rounded-xl p-6 shadow-lg text-white">
      <div class="absolute top-0 right-0 w-32 h-32 opacity-10 pointer-events-none transform translate-x-8 -translate-y-8">
        <span class="material-symbols-outlined text-9xl">menu_book</span>
      </div>

      <div class="relative z-10">
        <div class="flex items-center gap-2 mb-4">
          <span class="material-symbols-outlined text-sm">history</span>
          <span class="text-sm font-medium opacity-90 tracking-wide uppercase">Sambung bacaan</span>
        </div>

        <h3 id="continueTitle" class="text-2xl font-bold mb-6">Mulakan bacaan</h3>

        <button id="continueBtn"
                class="bg-white text-primary font-bold py-3 px-8 rounded-lg shadow-md hover:bg-slate-100 transition-colors flex items-center gap-2">
          Teruskan <span class="material-symbols-outlined text-lg">arrow_forward</span>
        </button>

        <div id="continueHint" class="mt-3 text-xs opacity-90"></div>
      </div>
    </div>
  </div>

  <div class="px-6 mb-8">
    <div class="grid grid-cols-2 gap-4">
      <a class="bg-white dark:bg-slate-800 p-5 rounded-xl flex flex-col items-center justify-center gap-3 shadow-sm hover:shadow-md transition-shadow group"
         href="yasin.html">
        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
          <span class="material-symbols-outlined text-primary text-3xl">auto_stories</span>
        </div>
        <span class="font-semibold">Yasin</span>
      </a>

      <a class="bg-white dark:bg-slate-800 p-5 rounded-xl flex flex-col items-center justify-center gap-3 shadow-sm hover:shadow-md transition-shadow group"
         href="tahlil.html">
        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
          <span class="material-symbols-outlined text-primary text-3xl">format_list_numbered</span>
        </div>
        <span class="font-semibold">Tahlil</span>
      </a>

      <a class="bg-white dark:bg-slate-800 p-5 rounded-xl flex flex-col items-center justify-center gap-3 shadow-sm hover:shadow-md transition-shadow group"
         href="bookmark.html">
        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
          <span class="material-symbols-outlined text-primary text-3xl">bookmark</span>
        </div>
        <span class="font-semibold">Bookmark</span>
      </a>

      <a class="bg-white dark:bg-slate-800 p-5 rounded-xl flex flex-col items-center justify-center gap-3 shadow-sm hover:shadow-md transition-shadow group"
         href="settings.html">
        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
          <span class="material-symbols-outlined text-primary text-3xl">settings</span>
        </div>
        <span class="font-semibold">Tetapan</span>
      </a>
    </div>
  </div>

  <div class="px-6 mb-24">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-bold flex items-center gap-2">
        <span class="material-symbols-outlined text-primary">star</span>
        Kegemaran
      </h2>
      <a class="text-primary text-sm font-semibold" href="bookmark.html">Lihat Semua</a>
    </div>

    <div class="space-y-3">
      <a href="yasin.html" class="flex items-center justify-between p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm hover:shadow-md transition-shadow">
        <div class="flex items-center gap-4">
          <div class="w-10 h-10 rounded-lg bg-primary/5 flex items-center justify-center">
            <span class="material-symbols-outlined text-primary">auto_stories</span>
          </div>
          <div>
            <p class="font-semibold">Surah Yasin</p>
            <p class="text-xs text-slate-500 dark:text-slate-400">Surah 36</p>
          </div>
        </div>
        <span class="material-symbols-outlined text-slate-300">chevron_right</span>
      </a>

      <a href="tahlil.html" class="flex items-center justify-between p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm hover:shadow-md transition-shadow">
        <div class="flex items-center gap-4">
          <div class="w-10 h-10 rounded-lg bg-primary/5 flex items-center justify-center">
            <span class="material-symbols-outlined text-primary">format_list_numbered</span>
          </div>
          <div>
            <p class="font-semibold">Tahlil</p>
            <p class="text-xs text-slate-500 dark:text-slate-400">Bacaan ringkas</p>
          </div>
        </div>
        <span class="material-symbols-outlined text-slate-300">chevron_right</span>
      </a>
    </div>
  </div>

  <nav class="fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 px-2 pb-6 pt-2 z-50">
    <div class="flex justify-between items-center max-w-lg mx-auto">
      <a class="flex flex-col items-center gap-1 flex-1 text-primary" href="index.html">
        <span class="material-symbols-outlined active-icon">home</span>
        <span class="text-[10px] font-semibold">Utama</span>
      </a>
      <a class="flex flex-col items-center gap-1 flex-1 text-slate-400" href="yasin.html">
        <span class="material-symbols-outlined">auto_stories</span>
        <span class="text-[10px] font-medium">Yasin</span>
      </a>
      <a class="flex flex-col items-center gap-1 flex-1 text-slate-400" href="tahlil.html">
        <span class="material-symbols-outlined">format_list_numbered</span>
        <span class="text-[10px] font-medium">Tahlil</span>
      </a>
      <a class="flex flex-col items-center gap-1 flex-1 text-slate-400" href="bookmark.html">
        <span class="material-symbols-outlined">bookmark</span>
        <span class="text-[10px] font-medium">Bookmark</span>
      </a>
      <a class="flex flex-col items-center gap-1 flex-1 text-slate-400" href="settings.html">
        <span class="material-symbols-outlined">settings</span>
        <span class="text-[10px] font-medium">Tetapan</span>
      </a>
    </div>
  </nav>

  <script>
    const LS_DARK = "yt_dark";
    const LS_LAST_READ = "yt_last_read";

    function applyDarkMode(){
      const isDark = localStorage.getItem(LS_DARK) === "1";
      document.documentElement.classList.toggle("dark", isDark);
    }

    function safeParseJSON(s){
      try { return JSON.parse(s); } catch(e){ return null; }
    }

    function setContinueCard(){
      const title = document.getElementById("continueTitle");
      const hint = document.getElementById("continueHint");
      const btn = document.getElementById("continueBtn");

      const raw = localStorage.getItem(LS_LAST_READ);
      const d = raw ? safeParseJSON(raw) : null;

      if (d && d.type === "yasin" && d.ayah){
        const n = Number(d.ayah) || 1;
        title.textContent = "Yasin, ayat " + n;
        hint.textContent = "Sambung dari tanda bacaan terakhir.";
        btn.onclick = () => location.href = "yasin.html?ayah=" + encodeURIComponent(n);
        return;
      }

      title.textContent = "Mulakan bacaan";
      hint.textContent = "Tiada rekod sambung bacaan lagi.";
      btn.onclick = () => location.href = "yasin.html";
    }

    function wireSearch(){
      const box = document.getElementById("searchBox");
      const results = document.getElementById("quickResults");

      function showOrHide(){
        const q = String(box.value || "").trim().toLowerCase();
        const on = q.length > 0;
        results.classList.toggle("hidden", !on);

        if (!on) return;

        const showY = q.includes("y") || q.includes("yas") || q.includes("yasin");
        const showT = q.includes("t") || q.includes("tah") || q.includes("tahlil");

        results.querySelectorAll("button[data-go]").forEach(b => {
          const k = b.getAttribute("data-go");
          if (k === "yasin") b.style.display = showY ? "" : "none";
          if (k === "tahlil") b.style.display = showT ? "" : "none";
        });

        const anyVisible = Array.from(results.querySelectorAll("button[data-go]")).some(b => b.style.display !== "none");
        if (!anyVisible){
          results.classList.add("hidden");
        }
      }

      box.addEventListener("input", showOrHide);

      document.querySelectorAll("button[data-go]").forEach(b => {
        b.addEventListener("click", () => {
          const k = b.getAttribute("data-go");
          if (k === "yasin") location.href = "yasin.html";
          if (k === "tahlil") location.href = "tahlil.html";
        });
      });
    }

    applyDarkMode();
    setContinueCard();
    wireSearch();
  </script>

</body>
</html>
